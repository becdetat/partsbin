@page "/"
@using partsbin.UiServices
@inject IPartUiService PartUiService; 
@inject NavigationManager NavigationManager;

<div class="row">
    <div class="col-6">
        <h3>Home</h3>
    </div>
    <div class="col-6">
        <button @onclick="AddPart"
                @onclick:preventDefault
                class="btn btn-primary">
            <i class="oi oi-plus"></i> Add a part
        </button>
    </div>
</div>

<div class="row">
    <div class="col-lg-4 col-md-12">
        <HomePartTypes/>
    </div>
    <div class="col-lg-4 col-md-12">
        <HomeManufacturers/>
    </div>
    <div class="col-lg-4 col-md-12">
        <HomeLocations/>
    </div>
</div>

@code {
    private async Task AddPart()
    {
        var part = await PartUiService.AddPart();

        if (part is not null)
        {
            NavigationManager.NavigateTo($"/part/{part.Id}");
        }
    }
}