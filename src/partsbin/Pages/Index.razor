@page "/"
@using partsbin.UiServices
@inject IPartUiService PartUiService; 
@inject NavigationManager NavigationManager;

<div class="row">
    <div class="col">
        <h3>Home</h3>
    </div>
    <div class="col-2 text-end">
        <button @onclick="AddPart"
                @onclick:preventDefault
                class="btn btn-primary">
            <i class="oi oi-plus"></i> Add a part
        </button>
    </div>
</div>

<div class="row">
    <div class="col-4">
        <HomePartTypes/>
        <!--<HomeManufacturers/>-->
    </div>
    <div class="col-4">
        <!--<HomeLocations/>-->
    </div>
    <div class="col-4">???</div>
</div>

@code {
    private async Task AddPart()
    {
        var part = await PartUiService.AddPart();

        if (part is not null)
        {
            NavigationManager.NavigateTo($"/part/{part.Id}");
        }
    }
}